<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Faye‚Äôs Vintage</title>
  <style>
    :root{
      --bg:#fff9f0;
      --accent:#d6a24d;
      --accent-soft:#f7e5bb;
      --text:#2f2615;
      --muted:#8d7a5f;
      --border:#f0e2c8;
      --shadow:0 16px 48px rgba(0,0,0,.12);
      --radius:18px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Arial;
  color:var(--text);

  /* üëá ËÉåÊôØÂõæ */
  background-image:
    linear-gradient(
      rgba(255,249,240,0.65),
      rgba(255,249,240,0.85)
    ),
    url("Background.jpg");

  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-attachment: fixed;
}

    a{color:inherit}
    button{font-family:inherit}
    [hidden]{display:none !important;}

    
    
    
    
    
    
    @media(max-width:520px){
      
      
    }

    .wrap{min-height:100vh; display:flex; flex-direction:column;}

    /* ===== First screen: top half intro ===== */
    .intro{
      height:50vh;
      min-height:340px;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:22px 16px;
    }
    .intro-inner{
      max-width:1100px;
      width:100%;
      display:grid;
      grid-template-columns:1.2fr .8fr;
      gap:16px;
      align-items:stretch;
    }
    @media(max-width:900px){
      .intro{height:auto; min-height:unset;}
      .intro-inner{grid-template-columns:1fr;}
    }

    .card{
      background: rgba(255,255,255,0.72);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);

      border: 1px solid rgba(255,255,255,0.45);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 22px;
    }

    .brand{
      margin:0 0 8px;
      font-family:Georgia,serif;
      letter-spacing:.16em;
      text-transform:uppercase;
      font-size:26px;
    }
    .tagline{
      margin:0 0 12px;
      color:var(--muted);
      line-height:1.7;
      font-size:14px;
      max-width:70ch;
    }
    .actions{display:flex; gap:10px; flex-wrap:wrap; margin-top:10px;}
    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      padding:10px 14px;
      border-radius:999px;
      border:1px solid var(--border);
      background:#fff;
      color:var(--text);
      text-decoration:none;
      font-size:13px;
      cursor:pointer;
      user-select:none;
      transition:transform .15s ease, background .2s ease;
    }
    .btn.primary{
      background:var(--accent);
      border-color:var(--accent);
      color:#fff;
    }
    .btn:hover{transform:translateY(-1px); background:var(--accent-soft);}
    .btn.primary:hover{background:#c9923f;}

    /* ===== bullets (click to dialog) ===== */
    .bullets{display:grid; gap:10px;}
    .bullets .row{
  width:100%;
  text-align:left;
  cursor:pointer;
  border-radius:16px;
  padding:14px;
  display:block;
  appearance:none;
  -webkit-appearance:none;

  /* üëá ÂçäÈÄèÊòéÁéªÁíÉÊïàÊûú */
  background: rgba(255,255,255,0.72);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);

  border: 1px solid rgba(255,255,255,0.45);
  box-shadow: 0 10px 28px rgba(0,0,0,.12);

  transition:
    transform .15s ease,
    background .2s ease,
    box-shadow .2s ease;
}

    .bullets .row:hover{transform: translateY(-2px);background: rgba(255,255,255,0.85);box-shadow: 0 16px 36px rgba(0,0,0,.18);}
    .bullets .row b{display:block; margin-bottom:6px; color:var(--text);}
    .bullets .row div{font-size:13px; color:var(--muted); line-height:1.6;}

    /* ===== categories ===== */
    .cats{
      height:50vh;
      min-height:360px;
      padding:18px 16px 26px;
      display:grid;
      grid-template-columns:repeat(2,1fr);
      gap:16px;
      max-width:1100px;
      margin:0 auto;
      width:100%;
    }
    @media(max-width:760px){
      .cats{height:auto; min-height:unset; grid-template-columns:1fr;}
      .cat{min-height:200px;}
    }

    /* IMPORTANT: visible by default (so mobile never "disappears") */
    .cat{
      position:relative;
      min-height:240px;
      border-radius:18px;
      overflow:hidden;
      text-decoration:none;
      color:#fff;
      border:1px solid var(--border);
      box-shadow:0 12px 30px rgba(0,0,0,.12);
      transition:transform .18s ease, box-shadow .2s ease;
    }
    .cat:hover{transform:translateY(-2px); box-shadow:0 18px 46px rgba(0,0,0,.16);}
    .cat::before{
      content:"";
      position:absolute; inset:0;
      background-size:cover;
      background-position:center;
      background-repeat:no-repeat;
      transition:transform .6s ease;
    }
    .cat:hover::before{transform:scale(1.05);}
    .cat::after{
      content:"";
      position:absolute; inset:0;
      background:linear-gradient(180deg, rgba(0,0,0,.08) 0%, rgba(0,0,0,.62) 100%);
    }
    .cat-content{position:absolute; inset:auto 0 0 0; padding:18px; z-index:2;}
    .cat-label{font-size:12px; letter-spacing:2px; text-transform:uppercase; opacity:.85;}
    .cat-title{font-family:Georgia,serif; font-size:26px; margin:6px 0 6px;}
    .cat-desc{font-size:13px; opacity:.9; max-width:42ch; line-height:1.5;}

    /* Category images (placeholders) */
    .cat.bags::before{background-image:url("Bags.jpg");}
    .cat.clothing::before{background-image:url("Clothing.jpg");}
    .cat.accessories::before{background-image:url("Accessories.jpg");}
    .cat.shoes::before{background-image:url("Shoes.jpg");}

    /* ===== soft reveal animation (enabled only when .cats[data-anim="1"]) ===== */
    .cats[data-anim="1"] .cat{
      opacity:0;
      transform:translateY(16px);
    }
    .cats[data-anim="1"] .cat.reveal{
      opacity:1;
      transform:translateY(0);
      transition: opacity .9s cubic-bezier(.22,.61,.36,1), transform .9s cubic-bezier(.22,.61,.36,1);
    }
    .cats[data-anim="1"] .cat.reveal.delay-1{transition-delay:.12s}
    .cats[data-anim="1"] .cat.reveal.delay-2{transition-delay:.28s}
    .cats[data-anim="1"] .cat.reveal.delay-3{transition-delay:.44s}
    .cats[data-anim="1"] .cat.reveal.delay-4{transition-delay:.60s}

    @media (prefers-reduced-motion: reduce){
      .cats[data-anim="1"] .cat{opacity:1; transform:none;}
      .cats[data-anim="1"] .cat.reveal{transition:none;}
    }

    footer{
      padding:22px 16px 40px;
      text-align:center;
      color:rgba(141,122,95,.85);
      font-size:12px;
    }

    /* ===== dialog ===== */
    dialog.dlg{
  border:none;
  border-radius:18px;
  padding:0;
  width:min(560px, 92vw);

  background: rgba(255,255,255,0.28);   /* ‚¨Ö Âæà‰Ωé‰∫Ü */
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);

  border: 1px solid rgba(255,255,255,0.35);
  box-shadow: 0 24px 80px rgba(0,0,0,.25);
}

    dialog.dlg::backdrop{background:rgba(48,35,15,.35); backdrop-filter: blur(2px);}
    .dlg-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:14px 16px 10px;

  background: rgba(255,255,255,0.25);
  backdrop-filter: blur(4px);

  border-bottom: 1px solid rgba(255,255,255,0.35);
}

    .dlg-title{font-family:Georgia,serif; font-size:18px;}
    .dlg-x{
      width:34px;height:34px;border-radius:10px;border:1px solid var(--border);
      background:#fff; cursor:pointer; font-size:20px; line-height:1; color:var(--muted);
    }
    .dlg-body{
  padding:14px 16px 6px;

  background: rgba(255,255,255,0.22);
  backdrop-filter: blur(4px);

  color: var(--text);   /* ‚ö†Ô∏è ÈÄèÊòéÂêéÊñáÂ≠óË¶ÅÊ∑±‰∏ÄÁÇπ */
  line-height:1.7;
  font-size:14px;
  white-space: pre-line;
}

    .dlg-actions{
  padding:10px 16px 16px;
  display:flex;
  justify-content:flex-end;
  gap:10px;

  background: rgba(255,255,255,0.28);
  backdrop-filter: blur(4px);

  border-top: 1px solid rgba(255,255,255,0.35);
}

    .dlg-close{
      padding:10px 14px;border-radius:12px;border:1px solid var(--border);
      background:#fff; cursor:pointer; color:var(--text);
    }
    .dlg-list{margin:10px 0 0; padding-left:18px;}
    .dlg-list li{margin:6px 0;}

    /* QR placeholder (only for Follow us) */
    .dlg-qr{
      margin:14px 0 6px;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:8px;
    }
    .qr-box{
      width:140px;
      height:140px;
      border:1px dashed rgba(0,0,0,.25);
      border-radius:12px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:12px;
      letter-spacing:1px;
      color:rgba(0,0,0,.55);
      background:rgba(255,255,255,.85);
    }
    .qr-img{
  width:100%;
  height:100%;
  object-fit:contain;
  display:block;
  border-radius:8px;
}

    .qr-hint{font-size:12px; color:rgba(20,20,20,.55);}
  
    header{
      padding:26px 16px 18px;
      background:rgba(255,255,255,0.75);
      backdrop-filter: blur(6px);
      border-bottom:1px solid var(--border);
    }

    .header-inner{
      max-width:1100px;
      margin:auto;
      text-align:center;
    }
    header h1{
      margin:0;
      font-family:Georgia,serif;
      letter-spacing:.16em;
      text-transform:uppercase;
      font-size:28px;
      color:var(--text);
    }
    .subtitle{
      font-size:12px;
      color:var(--muted);
      margin-top:6px;
    }

    .section{
      max-width:1100px;
      margin:24px auto;
      padding:0 16px;
    }
    .filters{
      display:flex;
      flex-wrap:wrap;
      gap:12px;
      align-items:center;
      margin-bottom:0;
    }

    /* language switch right (same as shop.html) */
    .lang-switch{
      margin-left:auto;
      display:flex;
      gap:6px;
      align-items:center;
    }
    .lang-switch button{
      display:flex;
      align-items:center;
      gap:4px;
      font-size:11px;
      padding:3px 8px;
      border-radius:999px;
      border:1px solid var(--border);
      background:#fff;
      cursor:pointer;
      user-select:none;
    }
    .lang-switch button.active{
      background:var(--accent);
      color:#fff;
      border-color:var(--accent);
    }
    .lang-flag{
      width:14px;
      height:10px;
      border-radius:2px;
      object-fit:cover;
    }
    @media(max-width:520px){
      .filters{align-items:flex-start}
      .lang-switch{
        width:100%;
        justify-content:flex-end;
        margin-left:0;
      }
    }

  

/* ===== Welcome Overlay (injected) ===== */
/* ===== Welcome Vars (scoped) ===== */
.w2{
  --w2-ink:#1b1b1b;
  --w2-inkSoft: rgba(27,27,27,.65);
  --w2-cardBg: rgba(255,255,255,.78);
  --w2-border: rgba(0,0,0,.10);
  --w2-shadow: 0 18px 46px rgba(0,0,0,.12);
}

/* ===== Welcome Overlay ===== */
.w2{
  position:fixed; inset:0; z-index:99999;
  display:grid; place-items:center;
  overflow:hidden;
  opacity:1;
  transition:opacity .9s ease;
  /* background set by JS via CSS variable --bg */
  background-image:
    linear-gradient(rgba(255,255,255,.68), rgba(255,255,255,.86)),
    var(--bg);
  background-size:cover;
  background-position:center;
  background-repeat:no-repeat;
}
.w2.hide{opacity:0; pointer-events:none}

/* soft moving light */
.w2::before{
  content:"";
  position:absolute; inset:-15%;
  background: radial-gradient(closest-side at 35% 40%, rgba(255,255,255,.55), rgba(255,255,255,0) 60%);
  filter: blur(18px);
  animation: glow 5s ease-in-out infinite;
  pointer-events:none;
}

/* subtle grain */
.w2::after{
  content:"";
  position:absolute; inset:0;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='140' height='140'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='140' height='140' filter='url(%23n)' opacity='.28'/%3E%3C/svg%3E");
  opacity:.05;
  mix-blend-mode:multiply;
  pointer-events:none;
}

/* ===== Card ===== */
.w2-card{
  position:relative;
  width:min(560px, 90vw);
  padding:34px 26px 28px;
  text-align:center;
  background:var(--w2-cardBg);
  backdrop-filter: blur(10px);
  border-radius:22px;
  border:1px solid var(--w2-border);
  box-shadow:var(--w2-shadow);
  transform:translateY(16px) scale(.985);
  opacity:0;
  animation: cardIn .9s cubic-bezier(.2,.9,.2,1) forwards;
}

.w2-brand{
  font-family: Georgia,"Times New Roman",serif;
  font-size:44px;
  letter-spacing:.6px;
  margin:0;
  opacity:0;
  transform:translateY(10px);
  animation:textIn .9s ease .15s forwards;
}

.w2-sub{
  margin:14px 0 18px;
  font-size:12px;
  letter-spacing:2.4px;
  text-transform:uppercase;
  color:var(--w2-inkSoft);
  opacity:0;
  transform:translateY(10px);
  animation:textIn .9s ease .3s forwards;
}

/* shimmer line */
.w2-divider{
  height:1px;
  width:min(360px,74vw);
  margin:0 auto 18px;
  background:linear-gradient(90deg, rgba(0,0,0,0), rgba(0,0,0,.25), rgba(0,0,0,0));
  position:relative;
  overflow:hidden;
  opacity:.55;
}
.w2-divider::after{
  content:"";
  position:absolute;
  top:-1px;
  left:-40%;
  width:30%;
  height:3px;
  background:linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,.9), rgba(255,255,255,0));
  animation: shimmer 2s ease-in-out infinite;
}

.w2-note{
  font-size:13px;
  color:var(--w2-inkSoft);
  opacity:0;
  transform:translateY(10px);
  animation:textIn .9s ease .45s forwards;
}

@keyframes cardIn{to{opacity:1; transform:none;}}
@keyframes textIn{to{opacity:1; transform:none;}}
@keyframes shimmer{
  from{left:-40%; opacity:0;}
  30%{opacity:.9;}
  60%{opacity:.9;}
  to{left:120%; opacity:0;}
}
@keyframes glow{
  0%{transform:translate(-6%,-4%) scale(1.02);}
  50%{transform:translate(6%,4%) scale(1.06);}
  100%{transform:translate(-6%,-4%) scale(1.02);}
}

@media (prefers-reduced-motion: reduce){
  *{animation:none!important}
  .w2-card,.w2-brand,.w2-sub,.w2-note{opacity:1!important;transform:none!important}
}
</style>
</head>

<body>

<!-- ===== Welcome Overlay (injected) ===== -->
<div id="welcome" class="w2">
  <div class="w2-card">
    <h1 class="w2-brand">Faye‚Äôs Vintage</h1>
    <div class="w2-sub">Curated preloved luxury</div>
    <div class="w2-divider"></div>
    <p class="w2-note">Budapest ‚Ä¢ Authenticity ‚Ä¢ Experience</p>
  </div>
</div>
<!-- ===== /Welcome Overlay ===== -->

<header>
  <div class="header-inner">
    <h1>Faye‚Äôs Vintage</h1>
    <div class="subtitle" id="subtitle">Pre-loved Luxury ¬∑ Budapest</div>
  </div>
</header>

<div class="section">
  <div class="filters">
    <div class="lang-switch" aria-label="Language">
      <button data-lang="en" type="button"><img class="lang-flag" src="https://flagcdn.com/w20/gb.png" alt="EN">EN</button>
      <button data-lang="hu" type="button"><img class="lang-flag" src="https://flagcdn.com/w20/hu.png" alt="HU">HU</button>
    </div>
  </div>
</div>

  

  <div class="wrap">
    <section class="intro" id="top">
      <div class="intro-inner">
        <div class="card">
          <h1 class="brand">Faye‚Äôs Vintage</h1>
          <p class="tagline" data-i18n="intro.tagline"></p>
          <div class="actions">
            <button class="btn primary" id="contactBtn" type="button" data-i18n="intro.contact">Contact us</button>
            <a class="btn" id="scrollCategories" href="#categories" data-i18n="intro.enter">Browse products</a>
          </div>
        </div>

        <div class="bullets">
          <button class="row" type="button" data-key="consignment">
            <b data-i18n="bullets.consignment.title">Consignment</b>
            <div data-i18n="bullets.consignment.sub">How it works & timeline.</div>
          </button>

          <button class="row" type="button" data-key="follow">
            <b data-i18n="bullets.follow.title">Follow us</b>
            <div data-i18n="bullets.follow.sub">Social media & updates.</div>
          </button>

          <button class="row" type="button" data-key="news">
            <b data-i18n="bullets.news.title">News</b>
            <div data-i18n="bullets.news.sub">Announcements & openings.</div>
          </button>
        </div>
      </div>
    </section>

    <section class="cats" id="categories" aria-label="Categories">
      <a class="cat bags" href="shop.html?cat=bags">
        <div class="cat-content">
          <div class="cat-label" data-i18n="cat.label">Category</div>
          <div class="cat-title" data-i18n="cat.bags">Bags</div>
          <div class="cat-desc" data-i18n="catdesc.bags">Handbags, classics & limited pieces.</div>
        </div>
      </a>

      <a class="cat clothing" href="shop.html?cat=clothing">
        <div class="cat-content">
          <div class="cat-label" data-i18n="cat.label">Category</div>
          <div class="cat-title" data-i18n="cat.clothing">Clothing</div>
          <div class="cat-desc" data-i18n="catdesc.clothing">Coats, knitwear, dresses & more.</div>
        </div>
      </a>

      <a class="cat accessories" href="shop.html?cat=accessories">
        <div class="cat-content">
          <div class="cat-label" data-i18n="cat.label">Category</div>
          <div class="cat-title" data-i18n="cat.accessories">Accessories</div>
          <div class="cat-desc" data-i18n="catdesc.accessories">Scarves, belts, jewelry, small goods.</div>
        </div>
      </a>

      <a class="cat shoes" href="shop.html?cat=shoes">
        <div class="cat-content">
          <div class="cat-label" data-i18n="cat.label">Category</div>
          <div class="cat-title" data-i18n="cat.shoes">Shoes</div>
          <div class="cat-desc" data-i18n="catdesc.shoes">Heels, sneakers, boots.</div>
        </div>
      </a>
    </section>

    <footer>
      <span>¬© </span><span id="year"></span><span> Faye‚Äôs Vintage</span>
    </footer>
  </div>

  <dialog id="infoDialog" class="dlg">
    <div class="dlg-head">
      <div id="dlgTitle" class="dlg-title">Title</div>
      <button class="dlg-x" type="button" aria-label="Close">√ó</button>
    </div>

    <div class="dlg-body">
      <div id="dlgBody"></div>

      <div id="dlgQR" class="dlg-qr" hidden>
        <div class="qr-box">
  <img 
    src="QR Code.jpg"
    alt="QR code"
    class="qr-img"
  >
</div>
        <div class="qr-hint" data-i18n="qr.hint">Scan to follow us</div>
      </div>

      <ul id="dlgList" class="dlg-list"></ul>
    </div>

    <div class="dlg-actions">
      <button class="dlg-close" type="button" data-i18n="dlg.close">Close</button>
    </div>
  </dialog>

<script>
/* ===== i18n (static UI strings) ===== */
const i18n = {
  en: {
    "mh.sub":"Pre-loved Luxury ¬∑ Budapest ¬∑ Categories: Bags",
    "intro.tagline":"We are a pre-loved luxury boutique in the heart of Budapest, curating handbags and accessories with stories and character.Our selection focuses on classic houses, and we only deal in AUTHENTIC items.",
    "intro.contact":"Contact us",
    "intro.enter":"Browse products",
    "bullets.consignment.title":"Consignment",
    "bullets.consignment.sub":"How it works & timeline.",
    "bullets.follow.title":"Follow us",
    "bullets.follow.sub":"Social media & updates.",
    "bullets.news.title":"News",
    "bullets.news.sub":"Announcements & openings.",
    "cat.label":"Category",
    "cat.bags":"Bags",
    "cat.clothing":"Clothing",
    "cat.accessories":"Accessories",
    "cat.shoes":"Shoes",
    "catdesc.bags":"Handbags, classics & limited pieces.",
    "catdesc.clothing":"Coats, knitwear, dresses & more.",
    "catdesc.accessories":"Scarves, belts, jewelry, small goods.",
    "catdesc.shoes":"Heels, sneakers, boots.",
    "qr.hint":"Scan to follow us",
    "dlg.close":"Close"
  },
  hu: {
    "mh.sub":"Pre-loved Luxury ¬∑ Budapest ¬∑ Kateg√≥ri√°k: T√°sk√°k",
    "intro.tagline":"Pr√©mium Pre-loved store Budapest sz√≠v√©ben, ahol t√∂rt√©nettel √©s min≈ës√©ggel rendelkez≈ë t√°sk√°kat √©s kieg√©sz√≠t≈ëket -pr√©mium m√°rk√°kra fokusz√°lva- v√°logatunk.Kiz√°r√≥lag AUTENTIKUS term√©kekkel foglalkozunk.",
    "intro.contact":"Kapcsolat",
    "intro.enter":"Kateg√≥ri√°k megtekint√©se",
    "bullets.consignment.title":"Bizom√°ny",
    "bullets.consignment.sub":"Folyamat √©s id≈ët√°v.",
    "bullets.follow.title":"K√∂vess minket",
    "bullets.follow.sub":"K√∂z√∂ss√©gi m√©dia & friss√≠t√©sek.",
    "bullets.news.title":"H√≠rek",
    "bullets.news.sub":"Bejelent√©sek & nyitvatart√°s.",
    "cat.label":"Kateg√≥ria",
    "cat.bags":"T√°sk√°k",
    "cat.clothing":"Ruh√°zat",
    "cat.accessories":"Kieg√©sz√≠t≈ëk",
    "cat.shoes":"Cip≈ëk",
    "catdesc.bags":"K√©zit√°sk√°k, klasszikusok √©s limit√°lt darabok.",
    "catdesc.clothing":"Kab√°tok, k√∂t√∂tt√°ru, ruh√°k stb.",
    "catdesc.accessories":"S√°lak, √∂vek, √©kszerek stb.",
    "catdesc.shoes":"Magassark√∫, sportcip≈ë...",
    "qr.hint":"Olvassa be a QR-t",
    "dlg.close":"Bez√°r√°s"
  }
};

let lang = localStorage.getItem('fv_lang') || 'en';
if(lang !== 'en' && lang !== 'hu') lang = 'en';

function applyLang(){
  document.querySelectorAll('[data-i18n]').forEach(el=>{
    const key = el.getAttribute('data-i18n');
    const val = i18n[lang] && i18n[lang][key];
    if(val) el.textContent = val;
  });
  document.querySelectorAll('.lang-switch button').forEach(b=>{
    b.classList.toggle('active', b.dataset.lang === lang);
  });
}
document.querySelectorAll('.lang-switch button').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    lang = btn.dataset.lang;
    localStorage.setItem('fv_lang', lang);
    applyLang();
  });
});
applyLang();
document.getElementById('year').textContent = new Date().getFullYear();

/* ===== load content.json for dialogs ===== */
let content = null;
async function loadContent(){
  try{
    const res = await fetch('content.json', {cache:'no-store'});
    if(!res.ok) throw new Error('Failed to load content.json');
    content = await res.json();
  }catch(err){
    console.warn(err);
    content = null;
  }
}
loadContent();

/* ===== dialog ===== */
const dlg = document.getElementById('infoDialog');
const dlgTitle = document.getElementById('dlgTitle');
const dlgBody = document.getElementById('dlgBody');
const dlgList = document.getElementById('dlgList');
const dlgQR = document.getElementById('dlgQR');

function setDialog(title, body, points, showQR){
  dlgTitle.textContent = title || '';
  dlgBody.textContent = body || '';

  // ONLY show QR when showQR === true
  if(dlgQR) dlgQR.hidden = !showQR;

  // Points list optional
  dlgList.innerHTML = '';
  const pts = Array.isArray(points) ? points : [];
  if(pts.length){
    dlgList.style.display = '';
    for(const p of pts){
      const li = document.createElement('li');
      li.textContent = p;
      dlgList.appendChild(li);
    }
  }else{
    dlgList.style.display = 'none';
  }

  if(typeof dlg.showModal === 'function') dlg.showModal();
  else alert((title || '') + "\n\n" + (body || ''));
}

function openBulletDialog(btn){
  const key = btn.dataset.key; // consignment / follow / news
  const showQR = (key === 'follow'); // HARD RULE

  if(content && content.bullets && content.bullets[key] && content.bullets[key][lang]){
    const c = content.bullets[key][lang];
    setDialog(c.title || '', c.body || '', c.points || [], showQR);
  }else{
    const b = btn.querySelector('b');
    const fallbackTitle = b ? b.textContent : '';
    setDialog(fallbackTitle, '', [], showQR);
  }
}
document.querySelectorAll('.bullets .row').forEach(btn=>{
  btn.addEventListener('click', ()=>openBulletDialog(btn));
});

// Contact us -> dialog (pure text, no QR, no list)
const contactBtn = document.getElementById('contactBtn');
if(contactBtn){
  contactBtn.addEventListener('click', ()=>{
    let c = null;
    if(content && content.contactDialog && content.contactDialog[lang]){
      c = content.contactDialog[lang];
    }
    if(c){
      setDialog(c.title || i18n[lang]["intro.contact"], c.body || '', [], false);
    }else{
      setDialog(i18n[lang]["intro.contact"], "", [], false);
    }
  });
}

const xbtn = dlg.querySelector('.dlg-x');
if(xbtn) xbtn.addEventListener('click', ()=>dlg.close());
const cbtn = dlg.querySelector('.dlg-close');
if(cbtn) cbtn.addEventListener('click', ()=>dlg.close());
dlg.addEventListener('close', ()=>{ if(dlgQR) dlgQR.hidden = true; });
dlg.addEventListener('click', (e)=>{
  const rect = dlg.getBoundingClientRect();
  const inDialog = rect.top <= e.clientY && e.clientY <= rect.bottom &&
                   rect.left <= e.clientX && e.clientX <= rect.right;
  if(!inDialog) dlg.close();
});

/* ===== categories soft reveal (safe) ===== */
(function(){
  const cats = document.getElementById('categories');
  if(!cats) return;
  const cards = Array.from(cats.querySelectorAll('.cat'));
  cards.forEach((c,i)=>c.classList.add('delay-'+(i+1)));

  const reduce = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  if(reduce || !('IntersectionObserver' in window)){
    return; // visible by default, no animation
  }

  // enable animation mode (will start hidden but quickly reveal)
  cats.setAttribute('data-anim','1');

  const revealAll = ()=>{ cards.forEach(c=>c.classList.add('reveal')); };

  const io = new IntersectionObserver((entries)=>{
    if(entries.some(e=>e.isIntersecting)){
      revealAll();
      io.disconnect();
    }
  }, {threshold: 0.15});

  io.observe(cats);

  // When user clicks Browse products, reveal shortly after scroll starts
  const sc = document.getElementById('scrollCategories');
  if(sc){
    sc.addEventListener('click', ()=> setTimeout(revealAll, 350));
  }

  // Safety timeout
  setTimeout(revealAll, 2000);
})();
</script>


<script>
(function(){
  const w = document.getElementById("welcome");
  if(!w) return;
	  // ‚úÖ ‰ªé shop ÁÇπ Home ÂõûÊù•ÔºöË∑≥Ëøá welcomeÔºåÂπ∂ÂÆö‰ΩçÂà∞ÂàÜÁ±ªÂå∫
  if (sessionStorage.getItem('skipWelcomeOnce') === '1') {
    sessionStorage.removeItem('skipWelcomeOnce');
    w.remove();

    // ‰øùÈô©ÔºöÁ°Æ‰øùÂÆö‰ΩçÂà∞Âõõ‰∏™ÂàÜÁ±ªÂå∫Âüü
    if (location.hash === '#categories') {
      setTimeout(() => {
        const el = document.getElementById('categories');
        if (el) el.scrollIntoView({ behavior: 'auto', block: 'start' });
      }, 0);
    }
    return;
  }

  // ‚úÖ Êç¢ËÉåÊôØÔºöÂè™ÊîπËøô‰∏ÄË°å BG_URLÔºà‰∏ãÈù¢Áªô‰∫Ü 3 ‰∏™ÂèØÈÄâÔºâ
  const BG_URL =
    // 1) ÈìæÂ≠êÊ°•Â§úÊôØÔºàÂ§öÁëôÊ≤≥Ôºâ‚Äî Âè¶‰∏ÄËßíÂ∫¶
    "url('https://images.unsplash.com/photo-1637658011230-4329bc6336ae?fm=jpg&ixlib=rb-4.1.0&q=80&w=2400')";

    // 2) ÂõΩ‰ºöÂ§úÊôØÔºà‰øØÁû∞ÔºåÂ§öÁëôÊ≤≥Ôºâ‚Äî Âè¶‰∏ÄËßíÂ∫¶ÔºàÊÉ≥Áî®Ëøô‰∏™Â∞±Êää‰∏äÈù¢ÈÇ£Ë°åÊ≥®ÈáäÊéâÔºåÂêØÁî®‰∏ãÈù¢ËøôË°åÔºâ
    //"url('https://images.unsplash.com/photo-1741192387927-8634cc9e6e24?fm=jpg&ixlib=rb-4.1.0&q=80&w=2400')";

    // 3) ÂõΩ‰ºöÂ§úÊôØÔºàËøëÊôØ+ÂÄíÂΩ±ÔºåÂ§öÁëôÊ≤≥Ôºâ‚Äî Âè¶‰∏ÄËßíÂ∫¶ÔºàÊÉ≥Áî®Ëøô‰∏™Â∞±ÂêØÁî®Ôºâ
    //"url('https://images.unsplash.com/photo-1636140211522-20f6f04e6ac8?fm=jpg&ixlib=rb-4.1.0&q=80&w=2400')";

  w.style.setProperty("--bg", BG_URL);

  // 3 ÁßíÂêéÊ∑°Âá∫
  const SHOW_MS = 3000;
  const FADE_MS = 900;
  setTimeout(() => {
    w.classList.add("hide");
    setTimeout(() => w.remove(), FADE_MS + 80);
  }, SHOW_MS);
})();
</script>

</body>
</html>
